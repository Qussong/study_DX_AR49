23.12.19<br>

[1교시]

## CameraMoveScript 

Camera Move : W,A,S,D<br>
Player Move : 방향키<br>

### finaltick()
```cpp
// view 행렬 구성
```
<br><br>

## 투영행렬

투영방법(2가지)
1. 직교투영
2. 원근투영

투영방법에 따라 필요한 값이 달라진다.
```cpp
// CCamera.h
enum PROJ_TYPE
{
    // 직교
    // 원근
}
```
기본값은 "직교투영"으로 설정<br>

width 와 종횡비를 알고 있으면 height는 가지고 있을 필요가 없다.
종황비 = 세로 / 가로 = 높이 / 너비
<br><br>

### 직교투영 구현
//
<br><br>

### 원근투영 구현
중앙으로 투영시키기때문에 투영시켰을때 면적이 달라진다.<br>
동일크기여도 멀리있으면 더 작아진다.<br>
시야각도가 중요하게 작용한다.(FOV -> 기본값 : 90)
<br><br>

### PlayerScript
다가오고 멀어지는 커맨드 추가
<br><br>

### Scale
직교투영에만 사용하는 인자<br>
당장은 값이 1이기에 별 의미가 없다.<br>
직교투영시 화면에 담는 범위를 변화시키다.<br>
Scale이 넓어질수록 물체의 크기가 화면상에서 작아진다(Zoom-in/out)<br>


### 시야각(FOV)
Filed of View<br>
시야각을 조정하여 직교투영에서 Scale을 통해 구현한 효과를 원근투영에서 구현가능<br>
CCameraMoveScript 수정<br>

---
[2교시]

## View
뷰 스페이스는 카메라가 쳐다보는 방향이 +Z축이다.<br>
필요한 변환 : 원점으로의 이동량 + Z축을 바라보기위한 회전량<br>


### CCamera.cpp
뷰행렬 연산공식 추가


### View 변환에서 카메라의 회전변환 행렬
```cpp
    |Rx Ry Rz|        | 1 0 0 |
A = |Ux Uy Uz| * ? =  | 0 1 0 |
    |Fx Fy Fz|        | 0 0 1 |
// 행렬에서 자신의 역행렬을 곱해주면 항등행렬(단위행렬)이 나온다.
// 직교행렬의 역행렬을 직교행렬 본인의 전치행렬이다.
     |Rx Ux Fx|
? =  |Ry Uy Fy| = A^T = A^(-1)
     |Rz Uz Fz|
```
직교행렬의 역행렬은 전치행렬이다.<br>
**_증명_** : 단위벡터에서 자기자신과 내적을 하면 결과값이 1이고 직교하는 행렬과 내적을 하면 결과값이 0이다.<br>

이를 증명하기위해서 CCameraMoveScript에서 카메라의 움직임을 분기처리해준다.<br>
직교투영인경우 카메라는 Front를 z축으로 고정한다 -> 2D 게임이기에<br>
투영모드 변환키 구현(P) : 직교투영 ↔ 원근투영<br>

### 마우스 좌표?
CKeyMgr 에서 드래그 방향을 계산해서 마우스의 이동방향을 파악한다.<br>


---
다음시간 : 